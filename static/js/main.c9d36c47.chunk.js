(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,n){e.exports=n(51)},46:function(e,t,n){},48:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),i=n.n(o),l=n(4),s=(n(46),n(47),n(48),n(2)),c=n(3),u=n(52),d=n(53),g="#D7D6FF",m="#8E8AFF",f="#453EFF",p="#FFC916",h={fontFamily:"Signika"},v={color:m},b={display:"flex",justifyContent:"center",alignItems:"center"},y=n(29),O=n(30);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var T=r.a.createElement("path",{id:"Polygon_43","data-name":"Polygon 43",d:"M63,0l63,111H0Z"}),j=function(e){var t=e.svgRef,n=w(e,["svgRef"]);return r.a.createElement("svg",E({width:130,height:111,viewBox:"0 0 130 111",ref:t},n),T)},S=r.a.forwardRef(function(e,t){return r.a.createElement(j,E({svgRef:t},e))});n.p;function k(){var e=Object(y.a)(["\n@-webkit-keyframes flash {\n\t0% { opacity: 1; } \n    20% { opacity: 0; }\n    80% { opacity: 0; }\n\t100% { opacity: 1; }\n}\n@keyframes flash {\n\t0% { opacity: 1; } \n    20% { opacity: 0; }\n    80% { opacity: 0; }\n\t100% { opacity: 1; }\n}\n\n-webkit-animation: flash linear 1s infinite;\nanimation: flash linear 1s infinite;\n"]);return k=function(){return e},e}var x=Object(O.a)(S)(k());var I,C=function(e){var t,n,a,o=Math.min(e.progress,e.progressTarget)/e.progressTarget;o=Math.floor(100*o)/100;var i=null!==(t=e.backgroundOpacity)&&void 0!==t?t:"1",l=1===o?p:f,s=Math.min(null!==(n=e.closeTarget)&&void 0!==n?n:0,1),c=Math.min(e.beingTimed?o+.05:0,1);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"grid"}},r.a.createElement(S,{opacity:i,fill:null!==(a=e.background)&&void 0!==a?a:g,style:{gridColumn:1,gridRow:1}}),r.a.createElement(S,{opacity:.5,fill:l,style:{position:"relative",transform:"scale(".concat(s,")"),transformOrigin:"bottom left",transitionTimingFunction:"ease-out",transitionDuration:"300ms",gridColumn:1,gridRow:1}}),r.a.createElement(x,{fill:p,style:{position:"relative",transform:"scale(".concat(c,")"),transformOrigin:"bottom left",transitionTimingFunction:"ease-out",transitionDuration:"300ms",gridColumn:1,gridRow:1}}),r.a.createElement(S,{fill:l,style:{position:"relative",transform:"scale(".concat(o,")"),transformOrigin:"bottom left",transitionTimingFunction:"ease-out",transitionDuration:"300ms",gridColumn:1,gridRow:1}})))},N=n(34);function F(e,t){return{id:e,userId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,name:t,progress:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,progressTarget:arguments.length>4&&void 0!==arguments[4]?arguments[4]:144e3,goldUltras:arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,totalSeconds:arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,streakCount:arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,streakObtained:arguments.length>8&&void 0!==arguments[8]&&arguments[8],expiring:arguments.length>9&&void 0!==arguments[9]&&arguments[9],burndown:arguments.length>10&&void 0!==arguments[10]&&arguments[10]}}function R(e){return{id:e.id,userId:e.userId,name:e.name,progress:e.progress,progressTarget:e.progressTarget,goldUltras:e.goldUltras,totalSeconds:e.totalSeconds,streakCount:e.streakCount,streakObtained:e.streakObtained,expiring:e.expiring,burndown:e.burndown}}var A,P=function(){if(null===I||void 0===I)throw new EvalError("Could not evaluate dispatch action. configureModel() has not been called on this action script.")},D=function(){return function(e){P(),e({type:"GET_TALENTS",payload:I.getAll()})}},M=function(e){return function(t){P(),t({type:"NEW_TALENTS",payload:I.create(F(0,e))})}},L=function(e){return function(t){P(),I.deleteId(e),t({type:"DELETE_TALENT",payload:e})}},U=function(e){return function(t){P(),t({type:"UPDATE_TALENT",payload:I.update(e)})}},_=function(){return function(e,t){var n=t(),a=n.talents,r=n.timer,o=a.items,i=r.sessions;if(0!==i.length&&0!==o.length){var l,s=new Date,c=Object(N.a)(o);try{var u=function(){var e=l.value,t=i.filter(function(t){return t.talentId===e.id});if(0===t.length)return"continue";var n=new Date(s);n.setHours(4,0,0,0),s.getTime()<=n.getTime()&&n.setDate(n.getDate()-1);var a=t.filter(function(e){return e.startTimestamp.getTime()>=n.getTime()}).filter(function(e){if(!e.endTimestamp)throw new EvalError("Couldn't calculate talent progression. Two sessions haven't been marked as ended. Data is possibly corrupted.");return e.endTimestamp.getTime()-e.startTimestamp.getTime()>=18e5});e.streakObtained=a.length>0;var r=t.filter(function(e){if(!e.endTimestamp)throw new EvalError("Couldn't calculate talent progression. Transcendent timers aren't implemented yet. Data is possibly corrupted.");return e.endTimestamp.getTime()-e.startTimestamp.getTime()>=18e5}),o=null;if(r.length>0&&(o=r.reduce(function(e,t,n,a){return t.endTimestamp.getTime()>e.endTimestamp.getTime()?t:e})),o){var c=o.endTimestamp.getTime()<=s.getTime()-1008e5;e.expiring=c;var u=s.getTime()-1728e5,d=o.endTimestamp.getTime(),g=d<=u;if(e.burndown=g,g){var m=(u-d)/864e5,f=1+Math.floor(m);e.goldUltras=Math.max(o.ultrasHeld-f,0),e.progress=0,e.streakCount=0}}};for(c.s();!(l=c.n()).done;)u()}catch(d){c.e(d)}finally{c.f()}e({type:"CALCULATE_PROGRESSION",payload:{talents:o,sessions:i}})}}},H=n(7),W=n(8),z=function(){function e(){Object(H.a)(this,e)}return Object(W.a)(e,[{key:"incubate",value:function(e,t){}},{key:"poll",value:function(){return null}},{key:"stop",value:function(){}},{key:"isIncubating",value:function(){return!1}},{key:"getTalent",value:function(){return null}}]),e}();z.Null=new z;var B=function(){if(null===A||void 0===A)throw new EvalError("Could not evaluate dispatch action. configureModel() has not been called on this action script.")},J=z.Null,Z=function(e){return function(t){var n;B(),J.isIncubating()&&t(V()),t((n=e.id,function(e){e({type:"EXCLUDE_TALENT",payload:n})}));var a=A.exchange(e);J.incubate(e,a),t({type:"START_SESSION",payload:{talent:e,session:a}})}},V=function(){return function(e){B();var t,n=J.getTalent();if(null===n)throw new EvalError("Couldn't stop session. There was no session to stop.");e((t=n.id,function(e){P(),e({type:"INCLUDE_TALENT",payload:I.get(t)})})),e(X()),J.stop(),document.title="Ultra",e({type:"STOP_SESSION"})}},X=function(){return function(e){B();var t=null;try{t=J.poll()}catch(EvalError){return}if(null!==t){A.update(t.session),e(U(t.talent));var n=function(e){var t=Math.round(e)%60,n=Math.floor(e/60)%60,a=Math.floor(e/3600);return e<60?"".concat(t," sec"):e<3600?"".concat(n,":").concat(t," min"):n>9?"".concat(a,":").concat(n," hrs"):"".concat(a,":0").concat(n," hrs")}(t.session.progressObtained);document.title="".concat(n," + ").concat(t.talent.name," - Ultra"),e({type:"POLL_SESSION",payload:t})}}},G=function(){return function(e){B(),e({type:"GET_SESSIONS",payload:A.getAll()})}};function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function K(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var $=r.a.createElement("path",{id:"Polygon_3","data-name":"Polygon 3",d:"M53.717,0l53.717,90.738H0Z",transform:"translate(90.738) rotate(90)",fill:"#fff"}),q=function(e){var t=e.svgRef,n=K(e,["svgRef"]);return r.a.createElement("svg",Y({width:90.738,height:107.434,viewBox:"0 0 90.738 107.434",ref:t},n),$)},Q=r.a.forwardRef(function(e,t){return r.a.createElement(q,Y({svgRef:t},e))});n.p;function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ne=r.a.createElement("rect",{id:"Rectangle_13","data-name":"Rectangle 13",width:76,height:76}),ae=function(e){var t=e.svgRef,n=te(e,["svgRef"]);return r.a.createElement("svg",ee({width:76,height:76,viewBox:"0 0 76 76",ref:t},n),ne)},re=r.a.forwardRef(function(e,t){return r.a.createElement(ae,ee({svgRef:t},e))});n.p;var oe=function(e){var t=Object(l.b)(),n=Object(a.useCallback)(function(){e.talent&&t(Z(e.talent))},[t,e.talent]),o=Object(a.useCallback)(function(e){t(V())},[t]);return e.ghost?r.a.createElement(r.a.Fragment,null):e.placeholder?r.a.createElement(re,{"test-id":"talentTimer.stop",fill:g}):e.session?r.a.createElement(re,{"test-id":"talentTimer.stop",onClick:o,fill:"#FFF",style:{cursor:"pointer"}}):r.a.createElement(Q,{"test-id":"talentListItem.".concat(e.talent?e.talent.id:0,".startTalent"),color:"success",onClick:n,style:{cursor:"pointer",transform:"scale(0.9)"}})};var ie=function(e){var t;t=e.placeholder?g:e.ghost?m:"#FFF";var n,a=e.talent.totalSeconds/3600;return a=Math.ceil(10*a)/10,e.session&&(n=Math.ceil(e.session.progressObtained/3600*10)/10),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:Object(s.a)({},h,{color:t,marginRight:"32px"})},e.session||e.placeholder?r.a.createElement("div",{style:{height:"78px",display:"flex",justifyContent:"right"}},r.a.createElement("span",{style:{fontSize:"1.5rem",height:"30px",margin:"auto 0",marginRight:"8px"}},"LV. "),r.a.createElement("span",{style:{fontSize:"3rem"}},e.talent.goldUltras)):r.a.createElement("div",{style:{height:"110px",display:"flex",justifyContent:"right"}},r.a.createElement("span",{style:{fontSize:"2.5rem",height:"40px",margin:"auto 0",marginRight:"8px"}},"LV. "),r.a.createElement("span",{style:{fontSize:"4.5rem"}},e.talent.goldUltras)),r.a.createElement("div",{style:{display:"flex",justifyContent:"right",height:"5px"}},r.a.createElement("div",{style:Object(s.a)({},b,{fontSize:"2rem",mixBlendMode:e.ghost||e.placeholder?"exclusion":"normal"})},r.a.createElement("span",{role:"img","aria-label":"Streak"},"\ud83d\udd25")," "),r.a.createElement("div",{style:Object(s.a)({},b,{fontSize:"2.8rem"})},e.talent.streakCount)),e.session?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{fontSize:"3rem",height:"52px"}},n," hours"),r.a.createElement("div",{style:{fontSize:"1rem",textAlign:"right"}},a," hours")):e.placeholder?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{fontSize:"3rem",height:"52px"}},"0 hours"),r.a.createElement("div",{style:{fontSize:"1rem",textAlign:"right"}},a," hours")):r.a.createElement("div",{style:{fontSize:"1.8rem",marginTop:"12px",marginBottom:"12px"}},a," hours")),r.a.createElement(oe,{talent:e.talent,session:e.session,ghost:e.ghost,placeholder:e.placeholder}))};function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ce=r.a.createElement("path",{id:"Icon_material-edit","data-name":"Icon material-edit",d:"M4.5,25.875V31.5h5.625l16.59-16.59L21.09,9.285ZM31.065,10.56a1.494,1.494,0,0,0,0-2.115l-3.51-3.51a1.494,1.494,0,0,0-2.115,0L22.695,7.68l5.625,5.625,2.745-2.745Z",transform:"translate(-4.5 -4.496)",fill:"#757575"}),ue=function(e){var t=e.svgRef,n=se(e,["svgRef"]);return r.a.createElement("svg",le({width:27.004,height:27.004,viewBox:"0 0 27.004 27.004",ref:t},n),ce)},de=r.a.forwardRef(function(e,t){return r.a.createElement(ue,le({svgRef:t},e))});n.p;function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function me(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var fe=r.a.createElement("path",{id:"Icon_awesome-trash-alt","data-name":"Icon awesome-trash-alt",d:"M2.25,32.625A3.375,3.375,0,0,0,5.625,36h20.25a3.375,3.375,0,0,0,3.375-3.375V9h-27Zm19.125-18a1.125,1.125,0,0,1,2.25,0v15.75a1.125,1.125,0,0,1-2.25,0Zm-6.75,0a1.125,1.125,0,0,1,2.25,0v15.75a1.125,1.125,0,0,1-2.25,0Zm-6.75,0a1.125,1.125,0,0,1,2.25,0v15.75a1.125,1.125,0,0,1-2.25,0ZM30.375,2.25H21.938L21.277.935A1.688,1.688,0,0,0,19.765,0H11.728a1.668,1.668,0,0,0-1.5.935L9.563,2.25H1.125A1.125,1.125,0,0,0,0,3.375v2.25A1.125,1.125,0,0,0,1.125,6.75h29.25A1.125,1.125,0,0,0,31.5,5.625V3.375A1.125,1.125,0,0,0,30.375,2.25Z",fill:"#757575"}),pe=function(e){var t=e.svgRef,n=me(e,["svgRef"]);return r.a.createElement("svg",ge({width:31.5,height:36,viewBox:"0 0 31.5 36",ref:t},n),fe)},he=r.a.forwardRef(function(e,t){return r.a.createElement(pe,ge({svgRef:t},e))});n.p;function ve(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),o=n[0],i=n[1],l=Object(a.useCallback)(function(){i(!0)},[]),g=Object(a.useCallback)(function(){i(!1)},[]);return r.a.createElement(u.a,{className:"mx-auto p-2 no-gutters",style:Object(s.a)({fontFamily:"Tw Cen MT",fontSize:"1.5rem",color:"#757575",backgroundColor:o?"rgba(215, 214, 255, 0.28)":"transparent",borderRadius:"21px",maxWidth:"91%"},e.style),onMouseEnter:l,onMouseLeave:g,onMouseUp:e.click},r.a.createElement(d.a,{style:Object(s.a)({},b,{maxWidth:"25%"})},r.a.createElement(e.icon,{height:"18px"})),r.a.createElement(d.a,{style:Object(s.a)({},b,{justifyContent:"left"})},e.text))}var be=function(e){var t=Object(l.b)(),n=Object(a.useCallback)(function(){t(L(e.talent.id))},[t,e.talent.id]);return r.a.createElement("div",{id:"talent-right-click-menu",style:{position:"absolute",top:e.y,left:e.x,height:"252px",width:"209px",boxShadow:"3px 3px 6px 0px rgba(0, 0, 0, 0.16)",backgroundColor:"#FFF",zIndex:50,borderRadius:"20px"}},r.a.createElement(ve,{icon:de,text:"Edit",click:e.edit,style:{marginTop:"0.9rem"}}),r.a.createElement(ve,{icon:he,text:"Delete",click:n}))};var ye=function(e){var t=Object(l.b)(),n=Object(a.useRef)(!1),o=Object(a.useState)(e.beginEditing),i=Object(c.a)(o,2),f=i[0],p=i[1],v=Object(a.useCallback)(function(){p(!0),n.current=!0,setTimeout(function(){return n.current=!1},100)},[p,n]);Object(a.useEffect)(function(){var e=function(e){var t=e.target;n.current||"talent-nameInput"!==t.id&&p(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}},[]);var y=Object(a.useState)(!1),O=Object(c.a)(y,2),E=O[0],w=O[1],T=Object(a.useState)({x:0,y:0}),j=Object(c.a)(T,2),S=j[0],k=j[1],x=Object(a.useCallback)(function(e){e.preventDefault(),w(!0),k({x:e.pageX,y:e.pageY})},[w,k]);Object(a.useEffect)(function(){var t=function(t){t.target.id!=="talent-".concat(e.talent.id,"-right-click-menu")&&w(!1)};return document.addEventListener("click",t),function(){document.removeEventListener("click",t)}},[e.talent.id]);var I,N=Object(a.useCallback)(function(t){var n=e.talent.goldUltras%3;return n===t?e.talent.progress:n>t?e.talent.progressTarget:0},[e.talent]),F=Object(a.useCallback)(function(t){if(e.talent.streakObtained)return 0;var n=e.talent.goldUltras%3;return n===t?e.talent.progress/e.talent.progressTarget+1/7:n>t?e.talent.progressTarget:0},[e.talent]);I=f?g:e.talent.burndown?"radial-gradient(circle at top left, rgba(255,201,22,1) 0%, rgba(255, 236, 172, 1) 100%)":e.talent.expiring?"radial-gradient(circle at top left, rgba(255,74,152,1) 0%, rgba(255,201,22,1) 100%)":e.talent.streakObtained?"radial-gradient(circle at top left, rgba(142,138,255,1) 0%, rgba(255,74,152,1) 100%)":"radial-gradient(circle at top left, rgba(142,138,255,1) 0%, rgba(255,74,152,1) 50%, rgba(255,201,22,1) 100%)";var R=Object(a.useState)(e.talent.name),A=Object(c.a)(R,2),P=A[0],D=A[1],M=Object(a.useCallback)(function(e){D(e.target.value)},[D]),L=Object(a.useCallback)(function(n){n.preventDefault(),e.talent.name=P,p(!1),t(U(e.talent))},[P,p,e.talent,t]);return r.a.createElement(u.a,{id:"talent-".concat(e.talent.id),className:"mb-4 mx-auto no-gutters",style:{maxWidth:"95vw",background:I,minHeight:"190px",borderRadius:"20px"},onContextMenu:x},E?r.a.createElement(be,{talent:e.talent,edit:v,x:S.x,y:S.y}):r.a.createElement(r.a.Fragment,null),r.a.createElement(d.a,{style:Object(s.a)({},b,{maxWidth:"33.33%",minWidth:"450px"})},f?r.a.createElement("form",{onSubmit:L,style:{maxWidth:"100%"}},r.a.createElement("input",{id:"talent-nameInput",style:Object(s.a)({},h,{backgroundColor:"transparent",border:"none",color:m,fontSize:"3rem",padding:"0",textAlign:"center",maxWidth:"100%"}),value:P,onChange:M})):r.a.createElement("div",{"test-id":"talentName",style:Object(s.a)({},h,{color:"#FFF",fontSize:"3rem"})},e.talent.name)),r.a.createElement(d.a,{style:Object(s.a)({},b,{maxWidth:"33.33%",minWidth:"450px"})},r.a.createElement(u.a,null,r.a.createElement(d.a,null,r.a.createElement(C,{progress:N(0),progressTarget:e.talent.progressTarget,background:f?m:void 0,backgroundOpacity:"0.5",closeTarget:F(0)})),r.a.createElement(d.a,null,r.a.createElement(C,{progress:N(1),progressTarget:e.talent.progressTarget,background:f?m:void 0,backgroundOpacity:"0.5",closeTarget:F(1)})),r.a.createElement(d.a,null,r.a.createElement(C,{progress:N(2),progressTarget:e.talent.progressTarget,background:f?m:void 0,backgroundOpacity:"0.5",closeTarget:F(2)})))),r.a.createElement(d.a,{style:Object(s.a)({},b,{maxWidth:"33.33%",minWidth:"450px"})},r.a.createElement(ie,{talent:e.talent,ghost:!!f||void 0})))};var Oe=function(e){var t=e.talents.map(function(t,n,a){return r.a.createElement(ye,{key:t.id,talent:t,beginEditing:e.lastBeginsEditing&&n===a.length-1})});return r.a.createElement(r.a.Fragment,null,t)};function Ee(e){var t=Object(a.useCallback)(function(t){var n=e.talent.goldUltras%3;return n===t?e.talent.streakObtained?e.talent.progress:e.talent.progress+11*e.session.progressObtained:n>t?e.talent.progressTarget:0},[e.talent,e.session]),n=Object(a.useCallback)(function(t){if(e.talent.streakObtained)return 0;var n=e.talent.goldUltras%3;return n===t?e.talent.progress/e.talent.progressTarget+1/7:n>t?e.talent.progressTarget:0},[e.talent]),o=Object(a.useCallback)(function(t){return e.talent.goldUltras%3===t},[e.talent]),i=e.talent.streakObtained?"radial-gradient(circle at top left, rgba(142,138,255,1) 0%, rgba(69,62,255,1) 75%, rgba(69,62,255,1) 100%)":"radial-gradient(circle at top left, rgba(142,138,255,1) 0%, rgba(255,74,152,1) 50%, rgba(255,201,22,1) 100%)";return r.a.createElement(u.a,{className:"mb-3 mx-auto no-gutters",style:{maxWidth:"95vw",minHeight:"190px",borderRadius:"20px",background:i}},r.a.createElement(d.a,{style:Object(s.a)({},b)},r.a.createElement("div",{"test-id":"talentTimer.talentName",className:"title",style:Object(s.a)({},h,{color:"#FFF",fontSize:"3rem"})},e.talent.name)),r.a.createElement(d.a,{style:Object(s.a)({},b)},r.a.createElement(u.a,null,r.a.createElement(d.a,null,r.a.createElement(C,{progress:t(0),progressTarget:e.talent.progressTarget,backgroundOpacity:"1",closeTarget:n(0),beingTimed:o(0)})),r.a.createElement(d.a,null,r.a.createElement(C,{progress:t(1),progressTarget:e.talent.progressTarget,backgroundOpacity:"1",closeTarget:n(1),beingTimed:o(1)})),r.a.createElement(d.a,null,r.a.createElement(C,{progress:t(2),progressTarget:e.talent.progressTarget,backgroundOpacity:"1",closeTarget:n(2),beingTimed:o(2)})))),r.a.createElement(d.a,{style:Object(s.a)({},b)},r.a.createElement(ie,{talent:e.talent,session:e.session})))}var we=F(0,"Start a talent to begin earning ultra.",7,0,1,0,0,0);function Te(){return r.a.createElement(u.a,{className:"mb-4 mx-auto no-gutters",style:{maxWidth:"95vw",minHeight:"190px",borderStyle:"dashed",borderColor:"#D7D6FF",borderWidth:"7px",borderRadius:"20px"}},r.a.createElement(d.a,{style:Object(s.a)({},h,{},v,{},b,{fontSize:"3rem",width:"60%"})},"Start a talent to begin earning ultra."),r.a.createElement(d.a,{style:Object(s.a)({},b)},r.a.createElement(u.a,null,r.a.createElement(d.a,null,r.a.createElement(C,{progress:0,progressTarget:1})),r.a.createElement(d.a,null,r.a.createElement(C,{progress:0,progressTarget:1})),r.a.createElement(d.a,null,r.a.createElement(C,{progress:0,progressTarget:1})))),r.a.createElement(d.a,{style:Object(s.a)({},b)},r.a.createElement(ie,{talent:we,placeholder:!0})))}var je=function(e){var t=null!==e.talent&&null!==e.session,n=Object(l.b)(),o=Object(a.useState)(0),i=Object(c.a)(o,2),s=i[0],u=i[1];return t&&!s&&u(setInterval(function(){n(X())},200)),!t&&s&&(clearInterval(s),u(0)),t?r.a.createElement(Ee,{talent:e.talent,session:e.session}):r.a.createElement(Te,null)};function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var xe=r.a.createElement("path",{id:"Polygon_7","data-name":"Polygon 7",d:"M99,0l99,172H0Z",fill:"#8e8aff"}),Ie=r.a.createElement("path",{id:"Polygon_8","data-name":"Polygon 8",d:"M56,0l56,97H0Z",transform:"translate(0 75)",fill:"#453eff"}),Ce=r.a.createElement("text",{id:"Ultra",transform:"translate(211 123)",fill:"#453eff",fontSize:117,fontFamily:"TwCenMT-Regular, Tw Cen MT"},r.a.createElement("tspan",{x:0,y:0},"Ultra")),Ne=function(e){var t=e.svgRef,n=ke(e,["svgRef"]);return r.a.createElement("svg",Se({id:"Component_3_1","data-name":"Component 3 \\u2013 1",width:443,height:172,viewBox:"0 0 443 172",ref:t},n),xe,Ie,Ce)},Fe=r.a.forwardRef(function(e,t){return r.a.createElement(Ne,Se({svgRef:t},e))});n.p;var Re=function(){return r.a.createElement(Fe,{style:{maxHeight:"15vh",marginTop:"8px",marginBottom:"35px"}})};function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Pe(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var De=r.a.createElement("g",{id:"Icon_ionic-ios-add-circle-outline","data-name":"Icon ionic-ios-add-circle-outline",transform:"translate(-3.375 -3.375)"},r.a.createElement("path",{id:"Path_1","data-name":"Path 1",d:"M35.476,21.98H26.035V12.539a2.028,2.028,0,1,0-4.055,0V21.98H12.539a1.942,1.942,0,0,0-2.028,2.028,1.963,1.963,0,0,0,2.028,2.028H21.98v9.441A1.964,1.964,0,0,0,24.008,37.5a2.017,2.017,0,0,0,2.028-2.028V26.035h9.441a2.028,2.028,0,1,0,0-4.055Z",transform:"translate(5.726 5.726)",fill:"#8e8aff"}),r.a.createElement("path",{id:"Path_2","data-name":"Path 2",d:"M29.733,6.923A22.814,22.814,0,0,1,45.865,45.865,22.814,22.814,0,0,1,13.6,13.6,22.659,22.659,0,0,1,29.733,6.923m0-3.548A26.358,26.358,0,1,0,56.092,29.733,26.354,26.354,0,0,0,29.733,3.375Z",fill:"#8e8aff"})),Me=function(e){var t=e.svgRef,n=Pe(e,["svgRef"]);return r.a.createElement("svg",Ae({width:52.717,height:52.717,viewBox:"0 0 52.717 52.717",ref:t},n),De)},Le=r.a.forwardRef(function(e,t){return r.a.createElement(Me,Ae({svgRef:t},e))});n.p;var Ue=function(){var e=Object(l.b)(),t=Object(a.useState)(!1),n=Object(c.a)(t,2),o=n[0],i=n[1],u=Object(a.useCallback)(function(){i(!0),setTimeout(function(){window.scrollTo(0,window.outerHeight)},150),setTimeout(function(){i(!1),e(M("Your New Talent"))},300)},[e,i]),d=o?{transitionDuration:"300ms",transitionTimingFunction:"ease-out"}:{};return r.a.createElement("div",{id:"new-talent-button",className:"p-2 mx-auto",style:Object(s.a)({width:o?"95vw":"25vw",height:o?"190px":"46px",backgroundColor:g,borderRadius:"41px",cursor:"pointer"},d),onClick:u},o?r.a.createElement(r.a.Fragment,null):r.a.createElement(Le,{height:"30px"}))},_e=n(12),He=n(22);var We=function(){var e,t,n=JSON.parse(null!==(e=localStorage.getItem("chronobreak"))&&void 0!==e?e:"false");Object(a.useEffect)(function(){var e,t,a;if(n){var r=parseInt(null!==(e=localStorage.getItem("dayjump"))&&void 0!==e?e:"0"),o=parseInt(null!==(t=localStorage.getItem("timemod"))&&void 0!==t?t:"1"),i=JSON.parse(null!==(a=localStorage.getItem("timehack"))&&void 0!==a?a:JSON.stringify(new Date)),l=new Date(i);l.setDate(l.getDate()+r),Object(He.advanceTo)(l),0!==r&&localStorage.setItem("dayjump","0"),setInterval(function(){var e=new Date;e.setMilliseconds(e.getMilliseconds()+100*o),Object(He.advanceTo)(e),localStorage.setItem("timehack",JSON.stringify(e))},100)}},[n]);var o=JSON.parse(null!==(t=localStorage.getItem("logs"))&&void 0!==t?t:"[]"),i=Object(a.useState)(""),l=Object(c.a)(i,2),s=l[0],u=l[1],d=Object(a.useState)(o),m=Object(c.a)(d,2),p=m[0],h=m[1],v=Object(a.useCallback)(function(e){u(e.target.value)},[u]),b=Object(a.useCallback)(function(e){function t(e){var t=e.toString().split(" "),n=Object(c.a)(t,5),a=n[1],r=n[2],o=n[3],i=n[4];return"".concat(a," ").concat(r," ").concat(o," ").concat(i)}function n(e){var n=[].concat(Object(_e.a)(p),["".concat(t(new Date),": ").concat(e)]);h(n),localStorage.setItem("logs",JSON.stringify(n))}e.preventDefault(),u("");var a=s;if(a.startsWith("jump ")&&!isNaN(parseInt(a.split(" ")[1]))){var r=a.split(" ")[1];localStorage.setItem("dayjump",r),n("Jumping ahead by ".concat(r," days...")),window.location.reload()}else if(a.startsWith("accelerate")){var o=a.split(" ");if(1===o.length)n("Time acceleration is currently set to ".concat(localStorage.getItem("timemod"),"x."));else if(!isNaN(parseInt(a.split(" ")[1]))){var i=o[1];localStorage.setItem("timemod",i),n("Accelerating time by ".concat(i,"x...")),window.location.reload()}}else"clear"===a?(h([]),localStorage.setItem("logs","[]")):n("help"===a?"HELP: // accelerate X - Sets the speed that time moves to a multiplier of X. Not providing X will show the current speed modifier for time. // jump X - Jumps forward X days in time. // clear - Clears console output.":'"'.concat(a,"\" isn't a valid input. Do you belong here?"));setTimeout(function(){var e=document.getElementById("eco");null===e||void 0===e||e.scrollTo(0,e.scrollHeight)},10)},[s,u,p,h]);return setTimeout(function(){var e=document.getElementById("eco");null===e||void 0===e||e.scrollTo(0,e.scrollHeight)},10),n?r.a.createElement("div",{className:"mt-4 d-inline-block",style:{border:"8px solid ".concat(g),borderRadius:"4px",width:"33vw",minHeight:"20vh",backgroundColor:g}},r.a.createElement("span",{style:{fontFamily:"Inter",color:f,fontSize:"3rem"}},"Chronobreak"),r.a.createElement("div",{id:"eco",className:"mx-auto p-1",style:{backgroundColor:"#1C1E26",fontFamily:"Inter",color:g,minHeight:"16vh",maxHeight:"16vh",textAlign:"left",borderBottom:"none",overflowY:"scroll"}},p.map(function(e,t,n){return r.a.createElement("div",{key:t},e)})),r.a.createElement("form",{onSubmit:b},r.a.createElement("input",{className:"p-1",style:{backgroundColor:"#1C1E26",fontFamily:"Inter",minHeight:"4vh",width:"100%",color:g,border:"none",borderTop:"1px solid #FFF"},value:s,onChange:v}))):r.a.createElement(r.a.Fragment,null)};var ze=function(){var e=Object(l.b)(),t=Object(a.useRef)("");Object(a.useEffect)(function(){var n,a;e(D()),e(G()),e(_());var r=parseInt(null!==(n=localStorage.getItem("timemod"))&&void 0!==n?n:"1");r=JSON.parse(null!==(a=localStorage.getItem("chronobreak"))&&void 0!==a?a:"false")?r:1,setInterval(function(){e(G()),e(_())},18e5/r),document.addEventListener("keydown",function(e){if(t.current+=e.key,"chronobreak"===t.current){var n,a=JSON.parse(null!==(n=localStorage.getItem("chronobreak"))&&void 0!==n?n:"false");localStorage.setItem("chronobreak","".concat(!a)),document.location.reload()}})},[e]);var n=Object(l.c)(function(e){return e}),o=n.talents.items,i=n.timer.session,s=i.talent,c=i.session,u=n.talents.lastBeginsEditing;return r.a.createElement("div",{className:"App"},r.a.createElement(Re,null),r.a.createElement(je,{talent:s,session:c}),r.a.createElement(Oe,{talents:o,lastBeginsEditing:u}),r.a.createElement(Ue,null),r.a.createElement(We,null))},Be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Je(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ze,Ve,Xe=n(10),Ge=n(35),Ye={items:[],lastBeginsEditing:!1},Ke={session:{talent:null,session:null},sessions:[]},$e=Object(Xe.c)({talents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TALENTS":var n=t.payload;return Object(s.a)({},e,{items:n.sort(function(e,t){return e.id>t.id?1:-1})});case"NEW_TALENTS":var a=t.payload;return Object(s.a)({},e,{items:[].concat(Object(_e.a)(e.items),[a]),lastBeginsEditing:!0});case"DELETE_TALENT":var r=t.payload,o=e.items.filter(function(e){return e.id!==r});return Object(s.a)({},e,{items:o});case"UPDATE_TALENT":var i=t.payload;if(-1===e.items.findIndex(function(e){return e.id===i.id}))return e;var l=e.items.filter(function(e){return e.id!==i.id});return Object(s.a)({},e,{items:[].concat(Object(_e.a)(l),[i]).sort(function(e,t){return e.id>t.id?1:-1})});case"EXCLUDE_TALENT":var c=t.payload,u=e.items.filter(function(e){return e.id!==c});return Object(s.a)({},e,{items:u});case"INCLUDE_TALENT":var d=t.payload;return Object(s.a)({},e,{items:[].concat(Object(_e.a)(e.items),[d]).sort(function(e,t){return e.id>t.id?1:-1}),lastBeginsEditing:!1});case"CALCULATE_PROGRESSION":return Object(s.a)({},e,{items:Object(_e.a)(t.payload.talents)});default:return e}},timer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_SESSION":return Object(s.a)({},e,{session:t.payload});case"STOP_SESSION":return Object(s.a)({},e,{session:{talent:null,session:null}});case"POLL_SESSION":return Object(s.a)({},e,{sessions:[e.sessions.filter(function(e){return e.id!==t.payload.id}),t.payload],session:t.payload});case"GET_SESSIONS":return Object(s.a)({},e,{sessions:t.payload});default:return e}}}),qe={},Qe=[Ge.a],et=function(){return Object(Xe.d)($e,qe,Xe.a.apply(void 0,Qe))},tt=n(19),nt=n(20),at=function(){function e(t,n,a,r){var o=this;if(Object(H.a)(this,e),this.counter=0,this.models=void 0,this.cloneFunc=void 0,this.getIdFunc=void 0,this.setIdFunc=void 0,void 0===t)throw new ReferenceError("Couldn't construct. KV Pairs argument was undefined.");if(void 0===n)throw new ReferenceError("Couldn't construct. Clone function argument was undefined.");if(void 0===a)throw new ReferenceError("Couldn't construct. Get ID function argument was undefined.");if(void 0===r)throw new ReferenceError("Couldn't construct. Set ID function argument was undefined.");this.cloneFunc=n,this.getIdFunc=a,this.setIdFunc=r,t=t.map(function(e){return[e[0],o.cloneFunc(e[1])]}),this.models=new Map(t);for(var i=0,l=Array.from(this.models.keys());i<l.length;i++){var s=l[i];if(isNaN(s))throw new EvalError('Failed to initialize model object. Model ID: "'.concat(s,'" evaluated to NaN during counter initialization.'));var c=s+1;this.counter=this.counter>c?this.counter:c}}return Object(W.a)(e,[{key:"create",value:function(e){if(null===e)throw new TypeError("Can't create an element with a null model argument.");if(void 0===e)throw new TypeError("Can't create an element with an undefined model argument.");if(this.models.has(this.counter))throw new RangeError("Couldn't create model. ID from counter already exists in the model, which should never happen. Model may be corrupt.");var t=this.cloneFunc(e);return this.setIdFunc(t,this.counter),this.models.set(this.counter,t),this.counter++,this.save(),this.cloneFunc(t)}},{key:"getAll",value:function(){return Array.from(this.models.values())}},{key:"get",value:function(e){var t=this.models.get(e);if(void 0!==t)return this.cloneFunc(t)}},{key:"update",value:function(e){if(null===e)throw new TypeError("Can't update a null element.");if(void 0===e)throw new TypeError("Can't update an undefined element.");var t=this.cloneFunc(e);return this.models.set(this.getIdFunc(e),t),this.save(),this.cloneFunc(t)}},{key:"delete",value:function(e){if(null===e)throw new TypeError("Can't delete a null element.");if(void 0===e)throw new TypeError("Can't delete an undefined element.");this.models.delete(this.getIdFunc(e)),this.save()}},{key:"deleteId",value:function(e){this.models.delete(e),this.save()}},{key:"save",value:function(){}}]),e}(),rt=function(e){Object(nt.a)(n,e);var t=Object(tt.a)(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Object(H.a)(this,n),0===a.length){var r=localStorage.getItem("talents");e=JSON.parse(null!==r&&void 0!==r?r:"[]")}else e=a.map(function(e){return[e.id,e]});return t.call(this,e,R,function(e){return e.id},function(e,t){return e.id=t})}return Object(W.a)(n,[{key:"save",value:function(){localStorage.setItem("talents",JSON.stringify(Array.from(this.models)))}}]),n}(at),ot=n(11),it=n(36),lt=function(e){return{id:e.id,talentId:e.talentId,userId:e.userId,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp,progressObtained:e.progressObtained,ultrasHeld:e.ultrasHeld}},st=function(e){Object(nt.a)(n,e);var t=Object(tt.a)(n);function n(){var e,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(Object(H.a)(this,n),r.length>0)?e=r.map(function(e){return[e.id,e]}):e=JSON.parse(null!==(a=localStorage.getItem("sessions"))&&void 0!==a?a:"[]");for(var o=0;o<e.length;o++){var i=Object(c.a)(e[o],2)[1];i.startTimestamp=new Date(i.startTimestamp),i.endTimestamp&&(i.endTimestamp=new Date(i.endTimestamp))}return t.call(this,e,lt,function(e){return e.id},function(e,t){return e.id=t})}return Object(W.a)(n,[{key:"exchange",value:function(e){return Object(it.a)(Object(ot.a)(n.prototype),"create",this).call(this,function(e,t){return{id:e,talentId:t,userId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,startTimestamp:arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date,endTimestamp:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,progressObtained:arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,ultrasHeld:arguments.length>6&&void 0!==arguments[6]?arguments[6]:0}}(this.counter,e.id,e.userId,new Date,null,0))}},{key:"save",value:function(){localStorage.setItem("sessions",JSON.stringify(Array.from(this.models)))}}]),n}(at),ct=function(){function e(){Object(H.a)(this,e),this.initialTalent=null,this.talent=null,this.session=null,this.lastUpdateMs=void 0}return Object(W.a)(e,[{key:"incubate",value:function(e,t){this.initialTalent=R(e),this.talent=R(e),this.session=lt(t),this.lastUpdateMs=Date.now()}},{key:"poll",value:function(){if(null===this.talent||null===this.session||null===this.initialTalent)throw new EvalError("Cannot poll. No talents are being incubated.");if(this.talent.progressTarget<=0)throw new EvalError("Could not incubate talent. Progress target was 0, causing divide by zero. Set a progress target of N hours on the talent object.");if(void 0===this.lastUpdateMs)throw new EvalError("Could not incubate talent. Illegal program state. Last Update MS was not initialised to a millis, which is impossible, and implies incubate() was never called.");var e=Date.now(),t=(e-this.lastUpdateMs)/1e3;this.lastUpdateMs=e;var n=t;if(this.session.endTimestamp=new Date,this.session.progressObtained+=n,!this.talent.streakObtained&&this.session.progressObtained>=1800&&(n+=this.talent.progressTarget/7,this.talent.streakCount++,this.talent.streakObtained=!0,this.talent.expiring=!1,this.talent.burndown=!1),this.talent.progress+=n,this.talent.progress>=this.talent.progressTarget){var a=Math.floor(this.talent.progress/this.talent.progressTarget);this.talent.goldUltras+=a,this.talent.progress=this.talent.progress%this.talent.progressTarget}return this.talent.totalSeconds+=t,this.session.ultrasHeld=this.talent.goldUltras,{talent:R(this.talent),session:lt(this.session)}}},{key:"stop",value:function(){this.initialTalent=null,this.talent=null,this.session=null,this.lastUpdateMs=void 0}},{key:"isIncubating",value:function(){return null!==this.talent}},{key:"getTalent",value:function(){return this.talent}}]),e}();Ze=new rt,I=Ze,function(e){A=e}(new st),Ve=new ct,J=Ve,i.a.render(r.a.createElement(l.a,{store:et()},r.a.createElement(ze,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/ultra",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/ultra","/service-worker.js");Be?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Je(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Je(t,e)})}}({})}},[[37,1,2]]]);
//# sourceMappingURL=main.c9d36c47.chunk.js.map